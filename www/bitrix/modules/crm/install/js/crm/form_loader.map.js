{"version":3,"file":"form_loader.min.js","sources":["form_loader.js"],"names":["Bitrix24FormLoader","init","window","Bitrix24FormObject","forms","this","yaId","frameHeight","defaultNodeId","forEach","preLoad","params","_this","type","defaultNode","document","getElementById","defaultClickClassNodeList","getElementsByClassName","id","click","length","i","push","item","nextElementSibling","Object","prototype","toString","call","formInstance","isFormExisted","getUniqueLoadId","buttonNode","addEventListener","showPopup","setTimeout","delay","load","createPopup","popup","createElement","innerHTML","children","node","querySelector","btn","hidePopup","body","insertBefore","appendChild","resizePopup","form","interfaceMagic","windowHeight","documentElement","clientHeight","popupHeight","needScroll","style","height","width","clientWidth","display","createFrame","formUrl","page","domain","indexOf","frame","frameName","locationHash","location","protocol","host","from","href","fields","options","presets","frameSrc","lang","sec","Date","encodeURIComponent","JSON","stringify","setAttribute","handlers","apply","uniqueLoadId","ref","match","iframe","parentNode","onFrameLoad","event","origin","doFrameAction","data","dataString","parse","err","action","value","setFrameHeight","parseInt","keyboard","eventName","dataLayer","virtualPageURL","eventCategory","eventAction","ga","isGaExists","getAll","filter","tracker","get","gaId","Ya","Metrika","counters","reachGoal","checkHash","hash","substring","ie","postMessage","contentWindow","el","handler","attachEvent"],"mappings":"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"}
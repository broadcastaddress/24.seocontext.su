{"version":3,"file":"requisite.min.js","sources":["requisite.js"],"names":["BX","namespace","Crm","RequisitePresetSelectorClass","parameters","this","id","type","isNotEmptyString","editor","container","nextNode","isElementNode","position","content","requisiteEntityTypeId","requisiteEntityId","presetList","presetLastSelectedId","parseInt","ajaxUrl","requisiteEditHandler","curPreset","title","curPresetName","labelElement","buttonElement","_menuId","_isMenuShown","_buttonClickHandler","delegate","onButtonClick","_menuIiemClickHandler","onMenuItemClick","_menuCloseHandler","onMenuClose","length","i","setTimeout","saveLastSelectedPresetId","buildContent","prototype","create","text","attrs","className","children","getMessage","events","click","onSelectorClick","ajust","bind","style","display","selectPreset","item","setTextContent","msgId","getNextNode","setNextNode","node","parentNode","removeChild","firstChild","insertBefore","appendChild","showError","msg","alert","e","showMenu","menuItems","push","value","href","onclick","PopupMenu","Data","popupWindow","destroy","anchor","anchorPos","pos","show","autoHide","offsetLeft","angle","offset","onPopupClose","closeMenu","PreventDefault","url","util","add_url_param","sessid","bitrix_sessid","data","action","presetId","ajax","post","RequisitePopupFormManagerClass","_random","Math","random","toString","substring","_index","blockArea","requisiteId","requisiteData","requisiteDataSign","multiAddressEditor","requisiteAjaxUrl","requisitePopupAjaxUrl","isRequestRunning","wrapper","popup","formId","formSettingManager","formCreateHandler","onFormCreate","editorPopupDestroyCallback","popupDestroyCallback","blockIndex","isNumber","afterRequisiteEditCallback","copyMode","register","getWrapperNode","getFieldControl","fieldName","ctrls","document","getElementsByName","setFieldValue","val","ctrl","setupFields","fields","isFunction","window","inputs","n","hasOwnProperty","addressData","j","address","addressTypeId","addressEditor","getItemByTypeId","createItem","setup","openPopup","startLoadRequest","closePopup","close","reloadPopup","startReloadRequest","urlParams","urlencode","method","dataType","prepareData","onsuccess","onLoadRequestSuccess","onfailure","onRequestFailure","form","getForm","props","name","submitAjax","onReloadRequestSuccess","startFormSubmitRequest","onFormSubmitRequestSuccess","addCustomEvent","onFormManagerCreate","PopupWindow","overlay","opacity","draggable","offsetTop","bindOptions","forceBindPosition","closeByEsc","closeIcon","top","right","zIndex","titleBar","onPopupShow","opPopupShow","opPopupClose","onPopupDestroy","preparePopupContent","buttons","prepareButtons","innerHTML","response","hiddenRequisiteId","requisiteDataNode","requisiteDataSignNode","needClosePopup","findChild","tag","attr","updateBlock","addBlock","eventArgs","removeCustomEvent","enableClientResolution","isBoolean","countryId","typeId","inputName","RequisiteFieldType","itin","sro","input","RequisiteFieldController","serviceUrl","callbacks","onFieldsLoad","editors","CrmMultipleAddressEditor","getItemsByFormId","onAddressCreate","html","result","PopupWindowButton","onSaveBtnClick","PopupWindowButtonLink","onCloseBtnClick","remove","sender","onFormReload","unregister","element","textContent","undefined","innerText","_id","_settings","_countryId","_typeId","_input","_value","_needle","_timeoutId","_keyPressHandler","onKeyPress","_timeoutHandler","onTimeout","_serviceUrl","_isRequestRunning","_dialog","initialize","settings","getSetting","getId","defaultval","validate","replace","search","startSearchRequest","openDialog","searchResult","closeDialog","items","isArray","ExternalRequisiteDialog","open","addClass","findParent","ACTION","PROPERTY_TYPE_ID","PROPERTY_VALUE","COUNTRY_ID","onSearchRequestSuccess","event","c","keyCode","clearTimeout","removeClass","isPlainObject","self","_callbacks","_anchor","_itemData","_items","cb","messages","windows","prepareContent","onDialogShow","onDialogClose","onDialogDestroy","processItemSelection","getFields","width","qty","list","ExternalRequisiteDialogItem","dialog","layout","_data","_container","_element","_onClickHandler","onClick","_hasLayout","getCaption","clearLayout"],"mappings":"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"}
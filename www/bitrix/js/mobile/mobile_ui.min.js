(function(){if(window.BX.MobileUI)return;window.BX.MobileUI={showMessagePanel:function(e){var t={smileButton:{},useImageButton:true,mentionDataSource:{outsection:false,url:"/mobile/index.php?mobile_action=get_user_list&use_name_format=Y"},attachFileSettings:{resize:{quality:40,destinationType:1,sourceType:1,targetWidth:1e3,targetHeight:1e3,encodingType:0,mediaType:0,allowsEdit:true,correctOrientation:"YES",saveToPhotoAlbum:"NO",popoverOptions:"NO",cameraDirection:0},showAttachedFiles:true,sendLocalFileMethod:"base64",maxAttachedFilesCount:1},attachButton:{items:[{id:"disk",name:BX.message("MUI_B24DISK"),dataSource:{multiple:"NO",url:"/mobile/?mobile_action=disk_folder_list&type=user&path=",TABLE_SETTINGS:{searchField:true,showtitle:true,modal:"YES",name:BX.message("MUI_CHOOSE_FILE_TITLE")}}},{id:"mediateka",name:BX.message("MUI_CHOOSE_PHOTO")},{id:"camera",name:BX.message("MUI_CAMERA_ROLL")}]}};if(e["useSmiles"]&&e["useSmiles"]!=true){t.smileButton=""}if(e["useMentions"]&&e["useMentions"]!=true){t.mentionDataSource={}}if(e["onPlusPressed"]&&typeof e["onPlusPressed"]=="function"){delete t["attachButton"];t["plusAction"]=e["onPlusPressed"]}else if(e["useFilePanel"]&&e["useFilePanel"]!=true){delete t["attachButton"]}else{if(e["attachOptions"]){t["attachFileSettings"]["resize"]=e["attachOptions"]}if(e["attachUseBase64"]&&e["attachUseBase64"]==true){t["attachFileSettings"]["sendLocalFileMethod"]="base64"}if(e["attachSources"]){t["attachFileSettings"]["items"]=e["attachSources"]}}if(typeof(e["onSend"]=="function")){t.action=e["onSend"]}if(typeof(e["onEvent"]=="function")){t.callback=e["onEvent"]}BXMPage.TextPanel.show(t);return t},createLoader:function(){var e={show:function(e){if(e){this.setText(e)}if(!this.view.parentNode){this.overlay.style.top=document.body.scrollTop+"px";this.view.style.top=document.body.scrollTop+screen.height/2-100+"px";document.body.appendChild(this.overlay);document.body.appendChild(this.view);document.body.addEventListener("touchmove",this._prevent)}return this},hide:function(){if(this.view.parentNode){e.view.parentNode.removeChild(this.overlay);e.view.parentNode.removeChild(this.view);document.body.removeEventListener("touchmove",this._prevent)}},_prevent:function(e){e.preventDefault()},onCancel:function(){return true},view:null,textView:null,setText:function(e){this.textView.innerHTML=e}};var t=function(){if(e.onCancel()){e.hide()}};var i=BX.create("TABLE",{props:{className:"mobile-iu-loader-wrap"},children:[BX.create("TR",{children:[BX.create("TD",{attrs:{height:"50px",style:"vertical-align:bottom;text-align: center"},children:[BX.create("DIV",{props:{className:"mobile-ui-loader"}})]})]}),BX.create("TR",{children:[BX.create("TD",{attrs:{height:"30px",style:"vertical-align:center;text-align: center"},children:[e.textView=BX.create("DIV",{props:{className:"mobile-ui-loader-message"}})]})]}),BX.create("TR",{children:[BX.create("TD",{props:{},attrs:{height:"50px",style:"text-align: center"},children:[BX.create("BUTTON",{html:BX.message("MUI_CANCEL"),events:{click:t}})]})]})]});e.view=i;e.overlay=BX.create("DIV",{props:{className:"mobile-iu-loader-overlay"}});return e}}})();
//# sourceMappingURL=mobile_ui.map.js